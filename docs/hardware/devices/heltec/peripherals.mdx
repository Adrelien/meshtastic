---
id: peripherals
title: Heltec ESP32 V3 Supported Peripherals
sidebar_label: Peripherals
sidebar_position: 3
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

<Tabs
groupId="heltecESP32V3"
queryString="heltecESP32V3"
defaultValue="GPS"
values={[
{label: 'GPS Module', value: 'GPS'},
{label: 'Keyboard', value: 'Keyboard'},
{label: 'Buzzer', value: 'Buzzer'},
]}>
<TabItem value="GPS">

## GPS Module

### Introduction
This informational guide outlines the process of enhancing the Heltec ESP32 V3 board by integrating the GT-U7 GPS Module. The addition of this module provides precise GPS capabilities and a real-time clock (RTC), eliminating the need for WiFi or a smartphone for time tracking. This enhancement is particularly beneficial for the mesh, where tracking the duration since the last seen device is crucial.
However, it's important to note that the GPS module increases the power demand of your node. We'll address this by detailing how to incorporate a switch or an NPN 2N2222 transistor into your setup. This enables firmware-controlled power management, conserving battery life without sacrificing functionality.

It is important to note that the GPS module increases the power demand of the node. This guide details the incorporation of a switch or an NPN 2N2222 transistor to enable firmware-controlled power management, conserving battery life without compromising functionality.

### Benefits
- **GPS Capabilities**: Provides the node with the ability to determine its location with high precision, which is invaluable for tracking, mapping, and various other applications requiring location data.
- **Real-Time Clock (RTC)**: Ensures accurate timekeeping on the mesh network without relying on external time sources such as the internet or a connected smartphone.

### Power Consumption Considerations
The GT-U7 module is known for its high power consumption, which can potentially shorten the battery lifespan of the node. To mitigate this, two approaches are recommended:
 - **Manual Switch**: A simple on/off switch for the GPS module, allowing for manual power management.
 - **NPN 2N2222 Transistor**: Facilitates automatic power control through the firmware, enabling the device to turn off the GPS module based on specific conditions or after a set period.

### Materials Needed
 - Heltec ESP32 V3 board
 - GT-U7 GPS Module
 - NPN 2N2222 Transistor
 - Wires and soldering equipment
 - (Optional) Switch for manual power control

### Instructions

 1. Solder a cable from the TXD slot on the GPS module to GPIO 48 on Heltec board. (You may choose your own GPIO pin)
 2. Solder a cable from the RXD slot on the GPS module to GPIO 47 on Heltec board. (You may choose your own GPIO pin)
 3. Solder a cable from the GND slot on the GPS module to GND pin on Heltec board.
 4. Solder a cable from left leg of NPN 2N2222 Transistor to VCC skit on GPS module.
 5. Solder a cable from Right leg of NPN 2N2222 Transistor to 3V/5V pin on Heltec board.
 6. Solder a cable from Middle leg of NPN 2N2222 Transistor to GPIO 48 of Heltec board. (You may choose your own GPIO pin)
 7. Go to Meshtastic app > Radio Configurations > Position
 8. Set GPS_RX_PIN to 48 (This will communicate to the TXD slot on the GPS)
 9. Set GPS_TX_PIN to 47 (This will communicate to the RXD slot on the GPS)
 10. Set PIN_GPS_EN to 46 (This will allow the meshtastic firmware to turn off the power on the GPS board with the user button of the Heltec Board by pressing it 3 times)

### Wiring Diagram

![HeltecESP32V3-gps-module](</img/hardware/HeltecESP32V3-gps-module.webp>)

### Troubleshooting Tips

If the GPS module does not power on, check the connections to the transistor and ensure that the middle pin is properly configured in the firmware settings.
If the message "GPS is Disabled" appears, press the user button on the Heltec board three times to enable it.
If the message "No GPS Present" appears, check that the TXD and RXD are correctly configured.
If the message "No GPS Lock" appears, move the node to another location with access to the sky for a bit to lock on properly.
If the location is not accurate, walk around to allow the GPS to properly lock on.

### Conclusion

By following this guide, you can enhance your Heltec ESP32 V3 board with valuable GPS capabilities and an RTC, while effectively managing power consumption. Whether for a hobby project or a more serious application, these additions significantly expand the potential of your device.

</TabItem>
<TabItem value="Keyboard">

## Keyboard

Coming Soon

</TabItem>
<TabItem value="Buzzer">

## Buzzer

Coming Soon

</TabItem>

<TabItem value="Telemetry Sensor">

## Telemetry

This guide will walk you through adding a telemetry sensor (BMP280)  module to your existing Heltec V3 Lora ESP32 Meshtastic Node. This guide will work also for any ESP32 boards but slight changes might be required.

Hardware
--------

Now let's get started with the hardware you need:

![](https://adrelien.com/blog/content/images/2024/02/BMP280.png)


:::info
BMP280 sensor comes with two flavors 5V and 3.3V . Choose either 5V or 3.3V based on your system requirements
:::

*   1x BMP280 Module
*   2x 17 Pins(Get 20 Pins and Trim It) 2.54mm Header Pin 
*   1x 4 Pins 2.54mm Header Pin
*   4x Female to Female Pin Connector
*   1x Soldering Iron + 60/40 Solder Wire (Optional - You can go to a nearby electronic shop to solder the headers on the board)

The hardware selection can be changed but we went with easy-to-get parts.Â **One thing to note here is that soldering will be needed only to solder headers to the Heltec and the BMP280 module**. This task can be outsourced to any nearby electronic shop and save you the money and the hassle.

Assembly
--------

The hardware is all ready and set now to the wiring. For this, we will follow the following Schematics.

:::info
Please keep in mind we are assuming here you already soldered the headers on the board so it will be a matter of connecting pins to the right place.
:::

### BMP280 Telemetry Module - Heltec V3 Lora ESP32

![](https://adrelien.com/blog/content/images/2024/02/How-To-Add-Telemetry-Sensor-To-Heltec-Lora-v3-Meshtastic-Node---v5.png)

BMP280-5V For The 5V Module

![](https://adrelien.com/blog/content/images/2024/02/How-To-Add-Telemetry-Sensor-To-Heltec-Lora-v3-Meshtastic-Node---v3.png)

BMP280-3.3V For The 3.3V Module

*   VCC -> 5V For BMP280-5V OR 3.3V For BMP280-3.3V
*   SCL -> PIN 42
*   SDA -> PIN 41
*   GND -> GND

:::info
The BMP280-5V Module Will Not Work With a Battery, It Works Only With a USB
:::
:::info
Capacitors are good practice for decoupling one part of a circuit from another
:::
:::info
It's Important To Note That The Order Of The Connections Might Vary. Follow The Labels And Io Ports On Your Specific Components And The Provided Schematics To Ensure Accurate Wiring. Paying Attention To These Details Ensures That You Establish The Correct Connections And Avoid Potential Issues or Damaging Your Components
:::
Once all the wiring is completed. Double-check your connections and ensure they match the suggested layout before proceeding to the next steps.

Meshtastic Settings
-------------------

1.  Open Meshtastic App (IOS for this guide)
2.  Go to the Settings page
3.  In the module configuration section go to Telemetry (Sensor)
4.  Scroll down to the Sensor Options
5.  Toggle the switch Enable and other switches according to your preference

In conclusion, adding a Telemetry module to your existing Heltec V3 Lora ESP32 Meshtastic Node is a straightforward process that enhances the functionality of your device. The chosen hardware components, including the BMP280 Module and header pins, provide a reliable and readily available solution. Soldering may be required, but it can be outsourced to electronic shops for convenience. By following this guide, users can easily integrate a BMP280 module into their Meshtastic Node, expanding its capabilities for telemetry tracking and enhancing overall functionality.
</TabItem>


</Tabs>

